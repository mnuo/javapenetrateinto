#### 第二章: 大型分布式Java应用与SOA   
SOA 全称是面向服务架构,它强调系统之间以标准的服务方式进行交互,各系统可采用不同的语言,不同的框架来实现,交互则全部通过服务的方式进行
eBay也实现了一个SOA 平台来支撑其业务的多元化发展,eBay认为SOA能给它带来的好处是提升业务的可重用性及灵敏性

##### 1 基于SCA实现SOA平台   
SCA 是Service Component Architecture 

##### 2 基于ESB实现SOA平台
ESB 是一个概念核心思想是基于消息中间件来实现系统间的交互。基于消息中间件所构建的此系统交互的中间场所称为总线,系统间交互的数据格式采用统一的消息格式,由总线完成消息的转化,路由,发送到相应的目标应用
![](http://7xsqwa.com1.z0.glb.clouddn.com/mnuo-distributedjava-2.2.jpg)
通常ESB构架须具备以下5个要素

+ 标准的消息通信格式
> ESB 框架中要定义系统发送及接收消息时的消息格式,以便各个系统保持同样的方式与总线通信
+ 消息路由
> 消息路由是指当总线接到消息后,根据消息中的数据来决定需要调用的系统,在更为复杂的情况下,还可基于消息路由实现功能编排,及当某个功能需要由多个系统共同完成时,可在总线上以流程的方式编排访问系统的顺序
+ 支持多种的消息交互类型
> 消息交互时要支持请求/响应和发布/订阅等方式,请求/响应方式会更加方便实现同步请求,发布/订阅方式则更加方便实现异步的消息广播
+ 支持多种网络协议
> 总线要和多个系统进行交互,通常要支持多种网络协议,例如TCP/IP , UDP/IP ,HTTP等
+ 支持多种数据格式并能够进行相互转换
> 多个系统均须发送消息至总线,并由总线将消息转发,但各个系统消息中的数据格式可能不一致,此时总线要支持数据的转换

#### 3 基于Tuscany实现SOA平台
Tuscany 是IBM和Bea捐献给Apache的产品,这也是目前最常用的SCA实现架构之一

#### 4 基于Mule实现SOA平台
Mule是常用ESB实现框架之一,首先来看看基于Mule2.2.1如何实现Tuscany章节中的例子,先仍然是以WEBSERVICE的方式对外提供HelloworldService 和Tuscany中不同的地方仅在于配置文件和启动代码两方面,配置文件上去掉publicservice.composite改为遵循Mule编写的配置文件
